<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Media Editor Suite</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="app-title">
            <span class="icon">‚úª</span>
            <span>Ultimate Media Editor</span>
        </div>
        <div class="app-controls">
            <button id="file-btn">File</button>
            <button id="save-btn">Salva</button>
            <button id="export-btn">Esporta</button>
            <button id="theme-btn">üåô</button>
        </div>
    </div>
    
    <!-- Ribbon -->
    <div class="ribbon">
        <div class="ribbon-tabs">
            <div class="ribbon-tab active" data-tab="home">Home</div>
            <div class="ribbon-tab" data-tab="media">Media</div>
            <div class="ribbon-tab" data-tab="audio">Audio</div>
            <div class="ribbon-tab" data-tab="video">Video</div>
            <div class="ribbon-tab" data-tab="cad">CAD</div>
            <div class="ribbon-tab" data-tab="view">Visualizza</div>
        </div>
        
        <!-- Home Tab -->
        <div class="ribbon-content active" data-content="home">
            <div class="ribbon-group">
                <div class="ribbon-group-title">File</div>
                <div class="ribbon-buttons">
                    <button class="ribbon-button" id="new-file">
                        <span class="icon">üìÑ</span>
                        <span>Nuovo</span>
                    </button>
                    <button class="ribbon-button" id="open-file">
                        <span class="icon">üìÇ</span>
                        <span>Apri</span>
                    </button>
                    <button class="ribbon-button" id="save-file">
                        <span class="icon">üíæ</span>
                        <span>Salva</span>
                    </button>
                </div>
            </div>
            
            <div class="ribbon-group">
                <div class="ribbon-group-title">Modifica</div>
                <div class="ribbon-buttons">
                    <button class="ribbon-button" id="undo-btn">
                        <span class="icon">‚Ü©Ô∏è</span>
                        <span>Annulla</span>
                    </button>
                    <button class="ribbon-button" id="redo-btn">
                        <span class="icon">‚Ü™Ô∏è</span>
                        <span>Ripeti</span>
                    </button>
                    <button class="ribbon-button" id="clear-btn">
                        <span class="icon">üóëÔ∏è</span>
                        <span>Elimina</span>
                    </button>
                </div>
            </div>
            
            <div class="ribbon-group">
                <div class="ribbon-group-title">Visualizza</div>
                <div class="ribbon-buttons">
                    <button class="ribbon-button" id="zoom-in">
                        <span class="icon">üîç</span>
                        <span>Ingrandisci</span>
                    </button>
                    <button class="ribbon-button" id="zoom-out">
                        <span class="icon">üîç</span>
                        <span>Riduci</span>
                    </button>
                    <button class="ribbon-button" id="fullscreen">
                        <span class="icon">‚õ∂</span>
                        <span>Schermo intero</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Media Tab -->
        <div class="ribbon-content" data-content="media">
            <div class="ribbon-group">
                <div class="ribbon-group-title">Immagini</div>
                <div class="ribbon-buttons">
                    <button class="ribbon-button" id="insert-image">
                        <span class="icon">üñºÔ∏è</span>
                        <span>Inserisci</span>
                    </button>
                    <button class="ribbon-button" id="crop-image">
                        <span class="icon">‚úÇÔ∏è</span>
                        <span>Ritaglia</span>
                    </button>
                    <button class="ribbon-button" id="adjust-image">
                        <span class="icon">üé®</span>
                        <span>Regola</span>
                    </button>
                </div>
            </div>
            
            <div class="ribbon-group">
                <div class="ribbon-group-title">Filtri</div>
                <div class="ribbon-buttons">
                    <button class="ribbon-button" id="filter-bw">
                        <span class="icon">‚ö´</span>
                        <span>Bianco/Nero</span>
                    </button>
                    <button class="ribbon-button" id="filter-sepia">
                        <span class="icon">üü§</span>
                        <span>Seppia</span>
                    </button>
                    <button class="ribbon-button" id="filter-sharpen">
                        <span class="icon">üîç</span>
                        <span>Nitidezza</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Audio Tab -->
        <div class="ribbon-content" data-content="audio">
            <div class="ribbon-group">
                <div class="ribbon-group-title">Audio</div>
                <div class="ribbon-buttons">
                    <button class="ribbon-button" id="import-audio">
                        <span class="icon">üéµ</span>
                        <span>Importa</span>
                    </button>
                    <button class="ribbon-button" id="record-audio">
                        <span class="icon">üéôÔ∏è</span>
                        <span>Registra</span>
                    </button>
                    <button class="ribbon-button" id="export-audio">
                        <span class="icon">üì§</span>
                        <span>Esporta</span>
                    </button>
                </div>
            </div>
            
            <div class="ribbon-group">
                <div class="ribbon-group-title">Effetti</div>
                <div class="ribbon-buttons">
                    <button class="ribbon-button" id="audio-eq">
                        <span class="icon">üìä</span>
                        <span>Equalizzatore</span>
                    </button>
                    <button class="ribbon-button" id="audio-reverb">
                        <span class="icon">üèõÔ∏è</span>
                        <span>Riverbero</span>
                    </button>
                    <button class="ribbon-button" id="audio-noise">
                        <span class="icon">üîá</span>
                        <span>Riduci rumore</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Video Tab -->
        <div class="ribbon-content" data-content="video">
            <div class="ribbon-group">
                <div class="ribbon-group-title">Video</div>
                <div class="ribbon-buttons">
                    <button class="ribbon-button" id="import-video">
                        <span class="icon">üé¨</span>
                        <span>Importa</span>
                    </button>
                    <button class="ribbon-button" id="record-video">
                        <span class="icon">üìπ</span>
                        <span>Registra</span>
                    </button>
                    <button class="ribbon-button" id="export-video">
                        <span class="icon">üì§</span>
                        <span>Esporta</span>
                    </button>
                </div>
            </div>
            
            <div class="ribbon-group">
                <div class="ribbon-group-title">Editing</div>
                <div class="ribbon-buttons">
                    <button class="ribbon-button" id="cut-video">
                        <span class="icon">‚úÇÔ∏è</span>
                        <span>Taglia</span>
                    </button>
                    <button class="ribbon-button" id="merge-video">
                        <span class="icon">üîó</span>
                        <span>Unisci</span>
                    </button>
                    <button class="ribbon-button" id="effects-video">
                        <span class="icon">‚ú®</span>
                        <span>Effetti</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- CAD Tab -->
        <div class="ribbon-content" data-content="cad">
            <div class="ribbon-group">
                <div class="ribbon-group-title">Modelli</div>
                <div class="ribbon-buttons">
                    <button class="ribbon-button" id="import-cad">
                        <span class="icon">üìÅ</span>
                        <span>Importa</span>
                    </button>
                    <button class="ribbon-button" id="new-cad">
                        <span class="icon">üÜï</span>
                        <span>Nuovo</span>
                    </button>
                    <button class="ribbon-button" id="export-cad">
                        <span class="icon">üì§</span>
                        <span>Esporta</span>
                    </button>
                </div>
            </div>
            
            <div class="ribbon-group">
                <div class="ribbon-group-title">Strumenti</div>
                <div class="ribbon-buttons">
                    <button class="ribbon-button" id="measure-cad">
                        <span class="icon">üìè</span>
                        <span>Misura</span>
                    </button>
                    <button class="ribbon-button" id="rotate-cad">
                        <span class="icon">üîÑ</span>
                        <span>Ruota</span>
                    </button>
                    <button class="ribbon-button" id="section-cad">
                        <span class="icon">‚úÇÔ∏è</span>
                        <span>Sezione</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-section">
                <h3>File Recenti</h3>
                <div class="sidebar-item">
                    <span class="icon">üìÑ</span>
                    <span>Progetto 1</span>
                </div>
                <div class="sidebar-item">
                    <span class="icon">üé¨</span>
                    <span>Video Promo</span>
                </div>
                <div class="sidebar-item">
                    <span class="icon">üìê</span>
                    <span>Modello 3D</span>
                </div>
            </div>
            
            <div class="sidebar-section">
                <h3>Strumenti Rapidi</h3>
                <div class="sidebar-item" id="quick-image">
                    <span class="icon">üñºÔ∏è</span>
                    <span>Nuova Immagine</span>
                </div>
                <div class="sidebar-item" id="quick-audio">
                    <span class="icon">üéµ</span>
                    <span>Nuovo Audio</span>
                </div>
                <div class="sidebar-item" id="quick-video">
                    <span class="icon">üé¨</span>
                    <span>Nuovo Video</span>
                </div>
            </div>
            
            <div class="sidebar-section">
                <h3>Propriet√†</h3>
                <div id="properties-container">
                    <p style="padding: 8px; color: #666;">Nessun elemento selezionato</p>
                </div>
            </div>
        </div>
        
        <!-- Workspace -->
        <div class="workspace">
            <div class="editor-area" id="editor-area">
                <div class="loading-overlay" id="loading-overlay" style="display: none;">
                    <div class="loading-spinner"></div>
                    <p id="loading-text" style="margin-top: 10px;">Caricamento in corso...</p>
                </div>
                
                <div id="content-container" style="position: relative;">
                    <canvas id="editor-canvas"></canvas>
                    <div id="welcome-message" style="text-align: center; padding: 50px; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
                        <h2 style="color: #666; margin-bottom: 20px;">Ultimate Media Editor</h2>
                        <p>Seleziona uno strumento dalla barra multifunzione o trascina un file qui</p>
                    </div>
                </div>
            </div>
            
            <div class="media-preview" id="media-preview">
                <h3 style="font-size: 13px; margin-bottom: 8px;">Anteprima Media</h3>
                <div id="preview-container"></div>
                <div class="media-controls" id="media-controls" style="display: none;">
                    <button id="play-btn">‚ñ∂Ô∏è Riproduci</button>
                    <button id="pause-btn">‚è∏Ô∏è Pausa</button>
                    <button id="stop-btn">‚èπÔ∏è Stop</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Status Bar -->
    <div class="status-bar">
        <div class="status-item">
            <span id="file-info">Nessun file aperto</span>
            <span id="selection-info">Nessuna selezione</span>
        </div>
        <div class="status-item">
            <span id="zoom-level">100%</span>
            <span id="resolution-info">-</span>
        </div>
    </div>
    
    <!-- Context Menu -->
    <div class="context-menu" id="context-menu">
        <div class="context-menu-item" id="ctx-copy">Copia</div>
        <div class="context-menu-item" id="ctx-cut">Taglia</div>
        <div class="context-menu-item" id="ctx-paste">Incolla</div>
        <div class="context-menu-item" id="ctx-delete">Elimina</div>
        <div class="context-menu-item" id="ctx-properties">Propriet√†</div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/fabric@5.3.1/dist/fabric.min.js"
      integrity="sha384-1Ig3120b9i9v7Q6F4oSyX29WvX7fY35W5k5i5X8jC5LP6f/L4lN1v3ZQ2/2Ci5Z6"
      crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/7.10.1/wavesurfer.min.js"></script>
    <script src="libs/ffmpeg.js"></script>
    <script src="libs/ffmpeg-util.js"></script>
    <script type="module" src="script.js"></script>
</body>
</html>
